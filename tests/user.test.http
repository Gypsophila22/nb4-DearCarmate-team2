@baseUrl=http://localhost:4000
@accessTokenName=access-token
@accessToken={{adminLogin.response.body.accessToken}}
@refreshTokenName=refresh-token
@refreshToken=

### 어드민 로그인
# @name adminLogin
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@codeit.com",
  "password": "AdminPass123!"
}

### 회원가입
POST {{baseUrl}}/users/register
Content-Type: application/json

{
	"name": "testman",
	"email": "testman2@test.com",
	"employeeNumber": "100",
	"phoneNumber": "01021210696",
	"password": "TestTest",
	"passwordConfirmation": "TestTest",
	"company": "Codeit",
	"companyCode": "CDEIT2025"
}

### 토큰 리프레쉬
POST {{baseUrl}}/auth/refresh
Content-Type: application/json

{
    "refreshToken": "{{login.response.body.refreshToken}}"
}

### 로그인
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "testman2@test.com",
  "password": "TestTest"
}

### 내 정보 조회
GET {{baseUrl}}/users/me
Authorization: Bearer {{login.response.body.$.accessToken}}

### 내 정보 수정 (비밀번호 변경 + 프로필 수정)
PATCH {{baseUrl}}/users/me
Content-Type: application/json
Authorization: Bearer {{login.response.body.$.accessToken}}

{
  "employeeNumber": "200",
  "phoneNumber": "01099998888",
  "currentPassword": "TestTest",
  "password": "NewPass123!",
  "passwordConfirmation": "NewPass123!",
  "imgUrl": "https://example.com/profile.png"
}

### 유저 삭제 (회원 탈퇴)
DELETE {{baseUrl}}/users/me
Authorization: Bearer {{login.response.body.$.accessToken}}

### 이미지 업로드 (WSL에서 로컬 파일 경로)
POST {{baseUrl}}/images/upload
Authorization: Bearer {{login.response.body.$.accessToken}}
Content-Type: multipart/form-data; boundary=BOUND

--BOUND
Content-Disposition: form-data; name="image"; filename="test-image.jpg"
Content-Type: image/jpeg

< /mnt/c/Users/sim_h/Desktop/Ang/test-image.jpg
--BOUND--

